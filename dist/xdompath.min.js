!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),r.d(t,"XDomPath",(function(){return lr}));const n=Symbol(),o=Symbol(),i=Symbol(),s=Symbol(),a=Symbol();class p{constructor(e){this[n]=e}open(){c.call(this,0)}readNext(e){const t=this[o];for(var r=!1,n=e.length,i=1===n;!this.isCompleted();){let t=this.next();if(i){if(t===e){r=!0;break}}else if(t===e[0]){for(let o=1;o<n;o++){if(t=this.next(),t!==e[o]){this.moveBack(o);break}o===n-1&&(r=!0)}if(r)break}}return r||this.moveBack(this[o]-t),r}readNextWord(){for(var e="",t=!1;!this.isCompleted();){let r=this.next();if(" "!==r||t){if(" "===r&&t){t=!1;break}t&&(e+=r)}else t=!0}return e}next(){return this.move(1),this.read()}read(){return this[i][0]}isFollowing(e){return e===this[i].substring(0,e.length)}isCompleted(){return this[o]>this[n].length-1}move(e){c.call(this,this[o]+e)}moveBack(e){this.move(-1*e)}startRecording(){this[s]=!0,this[a]=this[o]}stopRecording(){return this[s]=!1,this[n].substring(this[a],this[o]+1)}isRecording(){return this[s]}}function l(){this[i]=this[n].substring(this[o])}function c(e){this[o]=e,l.call(this)}const u=[{type:"path",rule:"/",value:"down"},{type:"path",rule:"//",value:"down-recursive"},{type:"path",rule:"/..",value:"parent"},{type:"path",rule:".",value:"current"},{type:"path",rule:"*",value:"all-current"},{type:"path",rule:"|",value:"union"},{type:"relation",rule:"/child::",value:"child"},{type:"relation",rule:"/child-not-shadow::",value:"child-not-shadow"},{type:"relation",rule:"/parent::",value:"parent"},{type:"relation",rule:"/following-sibling::",value:"following-sibling"},{type:"relation",rule:"/preceding-sibling::",value:"preceding-sibling"},{type:"relation",rule:"/following::",value:"following"},{type:"relation",rule:"/preceding::",value:"preceding"},{type:"relation",rule:"/descendant::",value:"descendant"},{type:"relation",rule:"/descendant-or-self::",value:"descendant-or-self"},{type:"relation",rule:"/ancestor-or-self::",value:"ancestor-or-self"},{type:"relation",rule:"/ancestor::",value:"ancestor"},{type:"group",rule:"(",value:"open"},{type:"group",rule:")",value:"close"},{type:"function",rule:"text(",value:"text-open"},{type:"function",rule:"position(",value:"position-open"},{type:"function",rule:"last(",value:"last-open"},{type:"function",rule:"not(",value:"not-open"},{type:"function",rule:"name(",value:"name-open"},{type:"function",rule:"id(",value:"id-open"},{type:"function",rule:"string(",value:"string-open"},{type:"function",rule:"substring(",value:"substring-open"},{type:"function",rule:"substring-after(",value:"substring-after-open"},{type:"function",rule:"substring-before(",value:"substring-before-open"},{type:"function",rule:"string-length(",value:"string-length-open"},{type:"function",rule:"count(",value:"count-open"},{type:"function",rule:"concat(",value:"concat-open"},{type:"function",rule:"normalize-space(",value:"normalize-space-open"},{type:"function",rule:"starts-with(",value:"starts-with-open"},{type:"function",rule:"contains(",value:"contains-open"},{type:"function",rule:"translate(",value:"translate-open"},{type:"function",rule:"ceiling(",value:"ceiling-open"},{type:"function",rule:"floor(",value:"floor-open"},{type:"function",rule:"round(",value:"round-open"},{type:"function",rule:"sum(",value:"sum-open"},{type:"function",rule:"shadow(",value:"shadow-open"},{type:"function",rule:"class(",value:"class-open"},{type:"function",rule:"focusable(",value:"focusable-open"},{type:"filter",rule:"[",value:"filter-open"},{type:"filter",rule:"]",value:"filter-close"},{type:"filter",rule:"@",value:"attribute"},{type:"operator",rule:"=",value:"equal"},{type:"operator",rule:">",value:"more"},{type:"operator",rule:"<",value:"less"},{type:"operator",rule:">=",value:"more-or-equal"},{type:"operator",rule:"<=",value:"less-or-equal"},{type:"operator",rule:"+",value:"plus"},{type:"operator",rule:"-",value:"minus"},{type:"operator",rule:",",value:"comma"}].sort((e,t)=>e.rule.length<t.rule.length?1:-1),y=Symbol();Symbol();class h{constructor(e){this[y]=new p(e),this[y].open()}hasNext(){return!this[y].isCompleted()}next(){return(d.call(this)||{}).type}}function d(e){if(!e&&this[y].isCompleted())return{type:{type:"eof",value:"eof"},ready:!0};if(e&&e.ready)return e;let t;if(e&&e.bracketOpen){const t=this[y].next();if(t===e.bracketOpen)return g(e,t),e.ready=!0,this[y].next(),f(e);this[y].moveBack(1)}else e&&"string"===e.type.type&&this[y].isFollowing("-")||this[y].isCompleted()||u.some(e=>{const r=this[y].isFollowing(e.rule);return r&&(t={type:e,ready:!0},this[y].move(e.rule.length)),r});return t||!e||e.ready?t||e?t&&e&&!e.ready?(this[y].moveBack(t.type.rule.length),e.type.value=e.type.value.substring(0,e.type.value.length-1),"string"!=typeof(e=f(e)).type.value||e.type.value.trim()?e:d.call(this)):t:(g(e={type:{type:"string",value:""},ready:!1},this[y].read()),d.call(this,e)):this[y].isCompleted()?f(e):(g(e,this[y].next()),d.call(this,e))}function g(e,t){"string"==typeof t&&(e.type.value&&e.type.value.trim()||'"'!==t&&"'"!==t||(e.bracketOpen=t),e.type.value+=t)}function f(e){e.ready=!0;const t=e.type.value.trim();return""!==t&&Number.isInteger(+t)?(e.type.value=+e.type.value,e.type.type="integer"):(e.type.value=t,e.type.type="string",e.bracketOpen&&(e.type.brackets=!0)),e}const v=Symbol(),b=Symbol(),w=Symbol(),m=Symbol();class O{constructor(){this[v]=new Set}static get capacity(){return 1/0}apply(e){const t=e.getContext();let r=this;const n=this.constructor.capacity;return this[v].size>=n&&(r=this.parent||this.host),r?(r.append(e),t):null}getContext(){return this}getParentContext(){return this.parent}append(e){this[v].add(e),e[w]=this}attachShadow(e){this[b]=e||new O,this[b][m]=this}replaceWith(e){const t=this[w];t.remove(this),t.append(e),e.append(this)}replaceWithParent(){const e=this[w],t=e[w];t.remove(e),t.append(this),this.append(e)}remove(e){this[v].delete(e)}get children(){return[...this[v]]}get parent(){return this[w]}get previousSibling(){const e=this.parent.children.indexOf(this);if(0===e)return null;this.parent.children[e-1]}get lastChild(){const{children:e}=this.parent;return e[e.length-1]}get shadowRoot(){return this[b]}get host(){return this[m]}get isShadow(){return!!this.host}perform(){}}class S{static parse(e){return e}}function x(e){return Array.isArray(e)&&e.length>0&&Array.isArray(e[0])&&(e[0].length>0&&e[0][0]instanceof Node||0===e[0].length)}class P extends S{static parse(e){return x(e)?e:e instanceof Node?[[e]]:[e]}}class j extends O{perform(e){return P.parse(e).reduce((e,t)=>e.concat(z.call(this,t)),[])}getNodeSetList(e){}}function z(e){const t=this.getNodeSetList(e);return this.children.length?[...this.children].reduce((e,r)=>e.concat(r.perform(t)),[]):t}const C={};class D{static save({type:e,value:t},r){C[`${e}:${t}`]=r}static get({type:e,value:t}){return C[`${e}:${t}`]}}class E extends O{perform(...e){return this.children[0].perform(...e)}apply(e){if("static:string"===e.type&&!e.withBrackets){return super.apply(D.get({type:"relation",value:"child"})()).apply(e)}return super.apply(e)}}class k extends E{perform(...e){return this.children.map(t=>t.perform(...e))}}class N extends E{constructor(...e){super(...e)}perform(e,t){R.call(this),this.node=e;let r=this.shadowRoot.perform(e,t)||[];const{types:n}=this.constructor;return n&&n.length>0&&(r=r.map((e,t)=>n[t]?n[t].parse(e):e)),this.process(...r)}getContext(){return this.attachShadow(new k),this.shadowRoot.capacity=this.constructor.argsCapacity,this.shadowRoot}static get argsCapacity(){return 1/0}static get types(){return[]}}function R(){this.shadowRoot||this.attachShadow(new k)}class A extends O{perform(e){const t=[];return e.forEach(e=>{t.push(this.shadowRoot.perform(e))}),this.children.length?[...this.children].reduce((e,r)=>e.concat(r.perform(t)),[]):t}}class F extends E{constructor(...e){super(...e),this.val=function(e){if("string"!=typeof e)return e;const t=e[0],r=e[e.length-1];if(t===r&&("'"===r||'"'===r))return e.substring(1,e.length-1);return e}(e[0].value),this.withBrackets=!!e[0].brackets}perform(){return this.val}static get capacity(){return 0}get type(){return"static:"+typeof this.val}}class q extends j{getNodeSetList(e){return[[...e].filter(t=>this.process(t,e))]}}class L extends q{constructor(){super()}process(e){return e.tagName&&e.tagName.toLowerCase()===this.shadowRoot.perform(e).toLowerCase()}}class U extends j{getNodeSetList(e){return[...e].reduce((t,r)=>t.concat(this.process(r,e)||[]),[])}apply(e){const t=e.getContext();if(e instanceof N){const r=new A;return this.append(r),r.attachShadow(e),t}if(e instanceof F){const r=new L;return this.apply(r),r.attachShadow(e),t}return super.apply(e)}}class H extends S{static parse(e){return Number(e)}}function W({type:e,value:t}){return function(r,n){const o=n?r[n]:r;D.save({type:e,value:t},()=>new o)}}var B;let M=W({type:"function",value:"position-open"})(B=class extends N{perform(e,t){return e?[...t].indexOf(e)+1:1}static get types(){return[H]}})||B;class _ extends S{static parse(e){if(x(e)){const t=new Set;return e.forEach(e=>{Array.isArray(e)&&e.forEach(e=>e&&t.add(e))}),[...t]}return Array.isArray(e)&&e.length>0&&e[0]instanceof Node?e:[]}}class T extends S{static parse(e){return"boolean"==typeof e?e:x(e)?_.parse(e).length>0:Array.isArray(e)?e.length>0:!!e}}var $;let G=W({type:"filter",value:"filter-open"})($=class extends q{process(...e){const t=this.shadowRoot.perform(...e);if(Number.isInteger(t)){const r=new M;return r.attachShadow(),r.perform(...e)===t}return T.parse(t)}getContext(){return this.attachShadow(new E),this.shadowRoot}})||$;class I extends O{perform(e){if(!this.children.length)return e;const t=[...this.children].reduce((t,r)=>t.concat(r.perform(e)),[]);return this.process(t)}}class X extends I{process(e){let t=new Set;return e.forEach(e=>e.forEach(e=>t.add(e))),[[...t]]}}var J;let K=W({type:"group",value:"open"})(J=class extends O{perform(e){const t=this.shadowRoot.perform(e);return this.children.length?[...this.children].reduce((e,r)=>e.concat(r.perform(t)),[]):t}getContext(){return this.attachShadow(new X),this.shadowRoot}})||J;const Q=Symbol(),V=Symbol(),Y=Symbol();class Z{apply(e){if(e instanceof O)return this[Q]?void(this[V]=this[V].apply(e)):(this[Q]=e,void(this[V]=e))}process(e){this[V]=this[Q];let t=new Set;return this[Q].perform([[e]]).forEach(e=>{e.forEach(e=>t.add(e))}),[...t]}walk(e){this[Q]&&ee.call(this,this[Q],e)}get current(){return this[V]}set current(e){this[V]=e}get parent(){return this.getParent(this[V])}get children(){return this.getChildren(this[V])}getChildren(e){return e[Y]}getParent(e){return e.parent}up(){this[V]=this.parent}upUntil(e){this.up(),e(this[V])||this.upUntil(e)}upUntilHost(){const e=()=>{if(this.current.host)return this.current=this.current.host,!0};e()||(this.upUntil(e=>!!e.host),e())}upUntilGroup(){this.upUntilHost(),this.current instanceof K||(this.current instanceof N?this.current.host instanceof A&&this.upUntilHost():this.upUntilGroup())}upUntilFilter(){this.upUntilHost(),this.current instanceof G||this.upUntilFilter()}get currentAxis(){return this[V]instanceof U}get currentFilter(){return this[V]instanceof q}toString(){let e="";return this.walk(t=>{e+=":item="+(t===this[Q])+t}),e}}function ee(e,t){t(e),e[Y]&&[...e[Y]].forEach(e=>{ee.call(this,e,t)})}class te extends U{process(e){return[[e]]}}function re({types:e,argsCapacity:t,type:r}={}){return function(n,o,i){const s=n[o];let a=N;r&&(a=r),n[o]=class extends a{static get types(){return e}static get argsCapacity(){return t}process(...e){return s.call(this,...e)}}}}class ne extends S{static parse(e){if(x(e))return e[0][0].textContent;let t=_.parse(e);return t&&t.length>0?t[0].textContent:String(e)}}var oe,ie,se,ae,pe,le,ce,ue,ye,he,de,ge,fe,ve,be,we,me,Oe,Se;function xe(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}oe=W({type:"function",value:"contains-open"}),ie=re({types:[ne,ne],argsCapacity:2}),se=W({type:"function",value:"string-length-open"}),ae=re({types:[ne],argsCapacity:1}),pe=W({type:"function",value:"substring-open"}),le=re({types:[ne,H,H],argsCapacity:3}),ce=W({type:"function",value:"substring-before-open"}),ue=re({types:[ne,ne],argsCapacity:2}),ye=W({type:"function",value:"substring-after-open"}),he=re({types:[ne,ne],argsCapacity:2}),de=W({type:"function",value:"starts-with-open"}),ge=re({types:[ne,ne],argsCapacity:2}),fe=W({type:"function",value:"ends-with-open"}),ve=re({types:[ne,ne],argsCapacity:2}),be=W({type:"function",value:"normalize-space-open"}),we=re({types:[ne,ne],argsCapacity:2}),me=W({type:"function",value:"concat-open"}),Oe=re({types:[ne,ne],argsCapacity:2}),xe((Se=class{contains(e,t){return!(!e||!t)&&e.includes(t)}stringLength(e){return e?e.length:0}substring(e,t,r){return e.substring(t+1,r)}substringBefore(e,t){const r=e.indexOf(t);return-1===r?"":str.substring(0,r)}substringAfter(e,t){const r=e.indexOf(t);return-1===r?"":str.substring(r+e.length)}startsWith(e,t){return e.startsWith(t)}endsWith(e,t){return e.endsWith(t)}normalizeSpace(e){return e?e.trim().replace(/\s+/g," "):""}concat(e,t){return e.concat(t)}}).prototype,"contains",[oe,ie],Object.getOwnPropertyDescriptor(Se.prototype,"contains"),Se.prototype),xe(Se.prototype,"stringLength",[se,ae],Object.getOwnPropertyDescriptor(Se.prototype,"stringLength"),Se.prototype),xe(Se.prototype,"substring",[pe,le],Object.getOwnPropertyDescriptor(Se.prototype,"substring"),Se.prototype),xe(Se.prototype,"substringBefore",[ce,ue],Object.getOwnPropertyDescriptor(Se.prototype,"substringBefore"),Se.prototype),xe(Se.prototype,"substringAfter",[ye,he],Object.getOwnPropertyDescriptor(Se.prototype,"substringAfter"),Se.prototype),xe(Se.prototype,"startsWith",[de,ge],Object.getOwnPropertyDescriptor(Se.prototype,"startsWith"),Se.prototype),xe(Se.prototype,"endsWith",[fe,ve],Object.getOwnPropertyDescriptor(Se.prototype,"endsWith"),Se.prototype),xe(Se.prototype,"normalizeSpace",[be,we],Object.getOwnPropertyDescriptor(Se.prototype,"normalizeSpace"),Se.prototype),xe(Se.prototype,"concat",[me,Oe],Object.getOwnPropertyDescriptor(Se.prototype,"concat"),Se.prototype);var Pe,je,ze,Ce,De,Ee,ke;function Ne(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Pe=W({type:"function",value:"string-open"}),je=re(),ze=W({type:"function",value:"class-open"}),Ce=re({types:[ne],argsCapacity:1}),De=W({type:"function",value:"id-open"}),Ee=re({argsCapacity:0}),Ne((ke=class{string(){return this.node.textContent}classFunc(e){return this.node.classList.contains(e)}id(){return this.node.getAttribute("id")}}).prototype,"string",[Pe,je],Object.getOwnPropertyDescriptor(ke.prototype,"string"),ke.prototype),Ne(ke.prototype,"classFunc",[ze,Ce],Object.getOwnPropertyDescriptor(ke.prototype,"classFunc"),ke.prototype),Ne(ke.prototype,"id",[De,Ee],Object.getOwnPropertyDescriptor(ke.prototype,"id"),ke.prototype);var Re,Ae,Fe;Re=W({type:"function",value:"not-open"}),Ae=re({types:[T],argsCapacity:1}),qe=(Fe=class{not(e){return!e}}).prototype,Le="not",Ue=[Re,Ae],He=Object.getOwnPropertyDescriptor(Fe.prototype,"not"),We=Fe.prototype,Be={},Object.keys(He).forEach((function(e){Be[e]=He[e]})),Be.enumerable=!!Be.enumerable,Be.configurable=!!Be.configurable,("value"in Be||Be.initializer)&&(Be.writable=!0),Be=Ue.slice().reverse().reduce((function(e,t){return t(qe,Le,e)||e}),Be),We&&void 0!==Be.initializer&&(Be.value=Be.initializer?Be.initializer.call(We):void 0,Be.initializer=void 0),void 0===Be.initializer&&(Object.defineProperty(qe,Le,Be),Be=null);var qe,Le,Ue,He,We,Be,Me,_e,Te,$e,Ge,Ie,Xe,Je,Ke;class Qe extends N{perform(e){const t=this.parent||this.host,r=t instanceof U||t instanceof A;return this.process(r?e:[...e.childNodes])}}function Ve(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Me=W({type:"function",value:"shadow-open"}),_e=re({type:Qe,types:[_]}),Te=W({type:"function",value:"text-open"}),$e=re({type:Qe,types:[_]}),Ge=W({type:"function",value:"count-open"}),Ie=re({types:[_]}),Xe=W({type:"function",value:"focusable-open"}),Je=re({type:Qe,types:[_]}),Ve((Ke=class{shadow(e){return e.filter(e=>e instanceof ShadowRoot)}text(e){return e.filter(e=>3===e.nodeType)}count(e){return e.length}focusable(e){const t=["input","textarea","select","button"];return e.filter(e=>t.some(t=>e.tagName&&e.tagName.toLowerCase()===t))}}).prototype,"shadow",[Me,_e],Object.getOwnPropertyDescriptor(Ke.prototype,"shadow"),Ke.prototype),Ve(Ke.prototype,"text",[Te,$e],Object.getOwnPropertyDescriptor(Ke.prototype,"text"),Ke.prototype),Ve(Ke.prototype,"count",[Ge,Ie],Object.getOwnPropertyDescriptor(Ke.prototype,"count"),Ke.prototype),Ve(Ke.prototype,"focusable",[Xe,Je],Object.getOwnPropertyDescriptor(Ke.prototype,"focusable"),Ke.prototype);class Ye extends S{static parse(e){return Number(e)}}var Ze,et,tt,rt,nt,ot,it;function st(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Ze=W({type:"function",value:"ceiling-open"}),et=re({types:[Ye],argsCapacity:1}),tt=W({type:"function",value:"floor-open"}),rt=re({types:[Ye],argsCapacity:1}),nt=W({type:"function",value:"round-open"}),ot=re({types:[Ye],argsCapacity:1}),st((it=class{ceiling(e){return Math.ceil(e)}floor(e){return Math.floor(e)}round(e){return Math.round(e)}}).prototype,"ceiling",[Ze,et],Object.getOwnPropertyDescriptor(it.prototype,"ceiling"),it.prototype),st(it.prototype,"floor",[tt,rt],Object.getOwnPropertyDescriptor(it.prototype,"floor"),it.prototype),st(it.prototype,"round",[nt,ot],Object.getOwnPropertyDescriptor(it.prototype,"round"),it.prototype);var at;W({type:"function",value:"last-open"})(at=class extends N{perform(e,t){return t.length}static get argsCapacity(){return 0}});function pt(){return function(e,t,r){const n=e[t];e[t]=class extends U{process(...e){return n.call(this,...e)}}}}class lt{static getChildNodes(e){const t=new Set;return e.shadowRoot&&t.add(e.shadowRoot),e.childNodes.forEach(e=>t.add(e)),[...t]}static getFollowingSibling(e){return e instanceof ShadowRoot?lt.getParentOrHost(e).children[0]:e.nextElementSibling}static getPrecendingSibling(e){const t=e.previousElementSibling;return t||(e instanceof ShadowRoot?null:e.parentElement&&e.parentElement.shadowRoot?e.parentElement.shadowRoot:void 0)}static getFollowingSiblings(e){const t=lt.getFollowingSibling(e),r=new Set;if(t){r.add(t);const e=lt.getFollowingSiblings(t);e&&e.length>0&&e.forEach(e=>r.add(e))}return[...r]}static getPrecendingSiblings(e){const t=lt.getPrecendingSibling(e),r=new Set;if(t){r.add(t);const e=lt.getPrecendingSiblings(t);e&&e.length>0&&e.forEach(e=>r.add(e))}return[...r]}static getParentOrHost(e){return e.parentNode||e.host}static getNodeContent(e){return 3===e.nodeType?e.textCotent:e.innerHTML}}var ct,ut,yt,ht,dt,gt,ft,vt,bt,wt,mt,Ot,St,xt,Pt,jt,zt,Ct,Dt,Et,kt,Nt,Rt,At;function Ft(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}ct=W({type:"relation",value:"ancestor"}),ut=pt(),yt=W({type:"relation",value:"ancestor-or-self"}),ht=pt(),dt=W({type:"path",value:"down"}),gt=W({type:"relation",value:"child"}),ft=pt(),vt=W({type:"relation",value:"descendant"}),bt=pt(),wt=W({type:"path",value:"down-recursive"}),mt=W({type:"relation",value:"descendant-or-self"}),Ot=pt(),St=W({type:"relation",value:"following"}),xt=pt(),Pt=W({type:"relation",value:"following-sibling"}),jt=pt(),zt=W({type:"path",value:"parent"}),Ct=W({type:"relation",value:"parent"}),Dt=pt(),Et=W({type:"relation",value:"preceding"}),kt=pt(),Nt=W({type:"relation",value:"preceding-sibling"}),Rt=pt(),Ft((At=class{ancestor(e){return qt(e)}ancestorOrSelf(e){return[[e]].concat(qt(e))}child(e){return[[...lt.getChildNodes(e)]]}descendant(e){return Lt(e)}descendantOrSelf(e){return[[e]].concat(Lt(e))}following(e){return[Ut(e)]}followingSibling(e){return[lt.getFollowingSiblings(e)]}parent(e){return[[lt.getParentOrHost(e)]]}preceding(e){return[Ht(e)]}precedingSibling(e){return[lt.getPrecendingSiblings(e)]}}).prototype,"ancestor",[ct,ut],Object.getOwnPropertyDescriptor(At.prototype,"ancestor"),At.prototype),Ft(At.prototype,"ancestorOrSelf",[yt,ht],Object.getOwnPropertyDescriptor(At.prototype,"ancestorOrSelf"),At.prototype),Ft(At.prototype,"child",[dt,gt,ft],Object.getOwnPropertyDescriptor(At.prototype,"child"),At.prototype),Ft(At.prototype,"descendant",[vt,bt],Object.getOwnPropertyDescriptor(At.prototype,"descendant"),At.prototype),Ft(At.prototype,"descendantOrSelf",[wt,mt,Ot],Object.getOwnPropertyDescriptor(At.prototype,"descendantOrSelf"),At.prototype),Ft(At.prototype,"following",[St,xt],Object.getOwnPropertyDescriptor(At.prototype,"following"),At.prototype),Ft(At.prototype,"followingSibling",[Pt,jt],Object.getOwnPropertyDescriptor(At.prototype,"followingSibling"),At.prototype),Ft(At.prototype,"parent",[zt,Ct,Dt],Object.getOwnPropertyDescriptor(At.prototype,"parent"),At.prototype),Ft(At.prototype,"preceding",[Et,kt],Object.getOwnPropertyDescriptor(At.prototype,"preceding"),At.prototype),Ft(At.prototype,"precedingSibling",[Nt,Rt],Object.getOwnPropertyDescriptor(At.prototype,"precedingSibling"),At.prototype);function qt(e){const t=new Set;let r=e;for(;lt.getParentOrHost(r);){let e=lt.getParentOrHost(r);t.add(e),r=e}return[[...t]]}function Lt(e){let t=[];const r=lt.getChildNodes(e);return t.push(r),r.length&&r.forEach(e=>{t=t.concat(Lt(e))}),t}function Ut(e){let t=lt.getFollowingSiblings(e),r=[];t.forEach(e=>{r=r.concat(_.parse(Lt(e)))}),t=t.concat(r);const n=lt.getParentOrHost(e);return n&&(t=t.concat(Ut(n))),t}function Ht(e){let t=lt.getPrecendingSiblings(e),r=[];t.forEach(e=>{r=r.concat(_.parse(Lt(e)))}),t=t.concat(r);const n=lt.getParentOrHost(e);return n&&(t.push(n),t=t.concat(Ht(n))),t}class Wt extends E{static get priority(){return 1}static get capacity(){return 2}perform(...e){if(this.children.length!==this.constructor.capacity)return!1;const t=this.children.map(t=>t.perform(...e));return this.process(...t)}process(){}apply(e){return this.replaceWithParent(),super.apply(e),e}}function Bt(){return function(e,t,r){const n=e[t];e[t]=class extends Wt{process(...e){return n.call(this,...e)}}}}var Mt,_t,Tt,$t,Gt,It,Xt,Jt,Kt,Qt,Vt;function Yt(e,t,r,n,o){var i={};return Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Mt=W({type:"operator",value:"equal"}),_t=Bt(),Tt=W({type:"operator",value:"more"}),$t=Bt(),Gt=W({type:"operator",value:"less"}),It=Bt(),Xt=W({type:"operator",value:"more-or-equal"}),Jt=Bt(),Kt=W({type:"operator",value:"less-or-equal"}),Qt=Bt(),Yt((Vt=class{equalize(e,t){return e==t}more(e,t){return e>t}less(e,t){return e<t}moreOrEqual(e,t){return e>=t}lessOrEqual(e,t){return e<=t}}).prototype,"equalize",[Mt,_t],Object.getOwnPropertyDescriptor(Vt.prototype,"equalize"),Vt.prototype),Yt(Vt.prototype,"more",[Tt,$t],Object.getOwnPropertyDescriptor(Vt.prototype,"more"),Vt.prototype),Yt(Vt.prototype,"less",[Gt,It],Object.getOwnPropertyDescriptor(Vt.prototype,"less"),Vt.prototype),Yt(Vt.prototype,"moreOrEqual",[Xt,Jt],Object.getOwnPropertyDescriptor(Vt.prototype,"moreOrEqual"),Vt.prototype),Yt(Vt.prototype,"lessOrEqual",[Kt,Qt],Object.getOwnPropertyDescriptor(Vt.prototype,"lessOrEqual"),Vt.prototype);var Zt,er,tr;Zt=W({type:"operator",value:"plus"}),er=Bt(),function(e,t,r,n,o){var i={};Object.keys(n).forEach((function(e){i[e]=n[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null)}((tr=class{add(e,t){return e+t}}).prototype,"add",[Zt,er],Object.getOwnPropertyDescriptor(tr.prototype,"add"),tr.prototype);var rr;W({type:"filter",value:"attribute"})(rr=class extends E{perform(e){const t=this.shadowRoot.perform(e);return e.getAttribute?e.getAttribute(t):void 0}apply(e){return this.shadowRoot?super.apply(e):(this.attachShadow(e.getContext()),this)}});var nr;W({type:"path",value:"current"})(nr=class extends E{process(e){return[[e]]}perform(e){const t=P.parse(e);return this.children.length>0&&this.children[0]instanceof U?U.prototype.perform.call(this,t):t.length>0&&t[0].length>0?lt.getNodeContent(t[0][0]):""}getNodeSetList(...e){return U.prototype.getNodeSetList.call(this,...e)}});const or=Symbol(),ir=Symbol();class sr{constructor(e){this[or]=e,this[ir]=new Z}compile(){this[ir].apply(new te);return ar.call(this).forEach(e=>{const t=D.get(e);if(t)this[ir].apply(t());else switch(e.type){case"filter":switch(e.value){case"filter-close":this[ir].upUntilFilter()}break;case"integer":this[ir].apply(new F(e));break;case"group":switch(e.value){case"close":this[ir].upUntilGroup()}break;case"string":this[ir].apply(new F(e));break;case"operator":switch(e.value){case"comma":this[ir].up()}}}),this[ir]}process(e){return this[ir].process(e)}}function ar(){const e=[];for(;this[or].hasNext();)e.push(this[or].next());return e}const pr=Symbol();class lr{constructor(e){const t=new h(e);this[pr]=new sr(t).compile()}perform(e){return this[pr].process(e)}static defineFunction(){}}}]);